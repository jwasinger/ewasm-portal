<!DOCTYPE html>
<html lang="en">
  <!-- Beautiful Jekyll | MIT license | Copyright Dean Attali 2016 -->
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Solidity 0.7.4 Release Announcement | Ewasm</title>

  <meta name="author" content="Ewasm Team" />

  

  <link rel="alternate" type="application/rss+xml" title="Ewasm - Collection of articles about the Solidity language and compiler" href="/ewasm-portal/feed.xml" />

  

  
    
      
  <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />

    
  

  
    
      <link rel="stylesheet" href="/ewasm-portal/css/bootstrap.min.css" />
    
      <link rel="stylesheet" href="/ewasm-portal/css/bootstrap-social.css" />
    
      <link rel="stylesheet" href="/ewasm-portal/css/main.css" />
    
      <link rel="stylesheet" href="/ewasm-portal/css/search.css" />
    
  

  
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
      <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
  

  

  

  

    <!-- Facebook OpenGraph tags -->
  

  
  <meta property="og:title" content="Solidity 0.7.4 Release Announcement" />
  

   
  <meta property="og:description" content="Solidity v0.7.4 fixes a storage corruption bug of medium severity. To learn more about the bug and to check if your contract is vulnerable please read this post with further details about the bug. The bug has been reported by John Toman of the Certora development team. Additionally, v0.7.4 adds...">
  


  <meta property="og:type" content="website" />

  
  <meta property="og:url" content="https://ewasm.ethereum.org/2020/10/19/solidity-0.7.4-release-announcement/" />
  <link rel="canonical" href="https://ewasm.ethereum.org/2020/10/19/solidity-0.7.4-release-announcement/" />
  

  
  <meta property="og:image" content="/img/ewasm2d.png" />
  


  <!-- Twitter summary cards -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@" />
  <meta name="twitter:creator" content="@" />

  
  <meta name="twitter:title" content="Solidity 0.7.4 Release Announcement" />
  

  
  <meta name="twitter:description" content="Solidity v0.7.4 fixes a storage corruption bug of medium severity. To learn more about the bug and to check if your contract is vulnerable please read this post with further details about the bug. The bug has been reported by John Toman of the Certora development team. Additionally, v0.7.4 adds...">
  

  
  <meta name="twitter:image" content="https://ewasm.ethereum.org/favicon.png" />
  

  

  <link rel="shortcut icon" type="image/png" href="/favicon.png"/>

</head>


  <body>

    
  
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="https://ewasm.ethereum.org">Ewasm</a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            






<a href="/ewasm-portal/blog/">Blog</a>

          </li>
        
        
        
          <li>
            






<a href="/ewasm-portal/projects/">Projects</a>

          </li>
        
        
        
          <li>
            






<a href="/ewasm-portal/publications/">Publications</a>

          </li>
        
        
        
          <li>
            






<a href="/ewasm-portal/faq/">FAQ</a>

          </li>
        
        
      </ul>
    </div>

	

  </div>
</nav>


    <!-- TODO this file has become a mess, refactor it -->



  

  <header class="header-section ">
  

  <div class="intro-header no-img">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <div class="post-heading">
            <h1>Solidity 0.7.4 Release Announcement</h1>
            
        
            
              <span class="post-meta">Posted by Solidity Team on October 19, 2020</span>
              <ul class="post-category-list">
                
                <li>
                  <a
                    href="/ewasm-portal/category/releases/"
                    class="category-releases">
                    Releases
                  </a>
                </li>
                
              </ul>
            
          </div>
        </div>
      </div>
    </div>
  </div>
  </header>




<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

      

      <article role="main" class="blog-post">
        <p><a href="https://github.com/ethereum/solidity/releases/tag/v0.7.4">Solidity v0.7.4</a> fixes a storage corruption bug of medium severity.
To learn more about the bug and to check if your contract is vulnerable please read this <a href="https://solidity.ethereum.org/2020/10/19/empty-byte-array-copy-bug">post</a> with further details about the bug. The bug has been reported by John Toman of the Certora development team.</p>

<p>Additionally, v0.7.4 adds constants at file-level.</p>

<h2 id="important-bugfixes">Important Bugfixes</h2>
<ul>
  <li>Code Generator: Fix data corruption bug when copying empty byte arrays from memory or calldata to storage. Read more <a href="https://solidity.ethereum.org/2020/10/19/empty-byte-array-copy-bug">here</a>.</li>
</ul>

<h2 id="notable-new-features">Notable New Features</h2>

<h3 id="constants-at-file-level">Constants at File-Level</h3>

<p>In order to make functions at file-level more useful, Solidity now also allows to
define constant variables at file-level:</p>

<div class="language-solidity highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">uint</span> <span class="k">constant</span> <span class="n">EXPONENT</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
<span class="kt">uint</span> <span class="k">constant</span> <span class="n">MULTIPLIER</span> <span class="o">=</span> <span class="mi">2</span><span class="o">**</span><span class="n">EXPONENT</span><span class="p">;</span>

<span class="k">struct</span> <span class="n">Fixed</span> <span class="p">{</span> <span class="kt">uint</span> <span class="n">value</span><span class="p">;</span> <span class="p">}</span>

<span class="k">function</span> <span class="n">toFixed</span><span class="p">(</span><span class="kt">uint</span> <span class="n">x</span><span class="p">)</span> <span class="k">pure</span> <span class="k">returns</span> <span class="p">(</span><span class="n">Fixed</span> <span class="k">memory</span> <span class="n">ret</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ret</span><span class="p">.</span><span class="n">value</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">MULTIPLIER</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Such constants have to follow the same rules as constants at contract-level.
This means, for example, the value has to be fixed at compile-time and only
some types are supported.</p>

<p>You can import constants from other source files like you import any other identifier:</p>

<p><code class="language-plaintext highlighter-rouge">import {MyConstant, MyStruct} from "myHelper.sol";</code></p>

<h2 id="full-changelog">Full Changelog</h2>

<h3 id="language-features">Language Features:</h3>
<ul>
  <li>Constants can be defined at file level.</li>
</ul>

<h3 id="compiler-features">Compiler Features:</h3>
<ul>
  <li>Command Line Interface: New option <code class="language-plaintext highlighter-rouge">--model-checker-engine</code> allows to choose a specific SMTChecker engine. Options are <code class="language-plaintext highlighter-rouge">all</code> (default), <code class="language-plaintext highlighter-rouge">bmc</code>, <code class="language-plaintext highlighter-rouge">chc</code> and <code class="language-plaintext highlighter-rouge">none</code>.</li>
  <li>Control Flow Graph: Print warning for non-empty functions with unnamed return parameters that are not assigned a value in all code paths.</li>
  <li>SMTChecker: Support <code class="language-plaintext highlighter-rouge">keccak256</code>, <code class="language-plaintext highlighter-rouge">sha256</code>, <code class="language-plaintext highlighter-rouge">ripemd160</code> and <code class="language-plaintext highlighter-rouge">ecrecover</code> in the CHC engine.</li>
  <li>SMTChecker: Support inline arrays.</li>
  <li>SMTChecker: Support variables <code class="language-plaintext highlighter-rouge">block</code>, <code class="language-plaintext highlighter-rouge">msg</code> and <code class="language-plaintext highlighter-rouge">tx</code> in the CHC engine.</li>
  <li>Standard JSON: New option <code class="language-plaintext highlighter-rouge">modelCheckerSettings.engine</code> allows to choose a specific SMTChecker engine. Options are <code class="language-plaintext highlighter-rouge">all</code> (default), <code class="language-plaintext highlighter-rouge">bmc</code>, <code class="language-plaintext highlighter-rouge">chc</code> and <code class="language-plaintext highlighter-rouge">none</code>.</li>
</ul>

<h3 id="bugfixes">Bugfixes:</h3>
<ul>
  <li>Code generator: Fix <code class="language-plaintext highlighter-rouge">ABIEncoderV2</code> pragma from the current module affecting inherited functions and applied modifiers.</li>
  <li>Code generator: Fix internal compiler error when referencing members via module name but not using the reference.</li>
  <li>Code generator: Fix internal error on returning structs containing mappings from library function.</li>
  <li>Code generator: Use revert instead of invalid opcode for out-of-bounds array index access in getter.</li>
  <li>Contract Level Checker: Add missing check against inheriting functions with ABIEncoderV2 return types in ABIEncoderV1 contracts.</li>
  <li>Name Resolver: Fix shadowing/same-name warnings for later declarations.</li>
  <li>Type Checker: Allow arrays of contract types as type expressions and as arguments for <code class="language-plaintext highlighter-rouge">abi.decode</code>.</li>
  <li>Type Checker: Disallow invalid use of library names as type name.</li>
  <li>Type Checker: Fix internal compiler error caused by storage parameters with nested mappings in libraries.</li>
</ul>

<p>A big thank you to all contributors who helped make this release possible!</p>

<p>Download the new version of Solidity <a href="https://github.com/ethereum/solidity/releases/tag/v0.7.4">here</a>.</p>

      </article>

      

      
        <!-- Check if any share-links are active -->





      

      <ul class="pager blog-pager">
        
        <li class="previous">
          <a href="/ewasm-portal/2020/10/19/empty-byte-array-copy-bug/" data-toggle="tooltip" data-placement="top" title="Solidity Empty Byte Array Copy Bug">&larr; Previous Post</a>
        </li>
        
        
      </ul>

      
        <div class="disqus-comments">
          
        </div>
      
    </div>
  </div>
</div>


    <footer>
  <div class="container beautiful-jekyll-footer">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links"><li><a href="/ewasm-portal/feed.xml" title="RSS"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">RSS</span>
              </a>
            </li><li><a href="mailto:solidity@ethereum.org" title="Email me"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Email me</span>
              </a>
            </li><li><a href="https://github.com/ewasm" title="GitHub"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">GitHub</span>
              </a>
            </li><li><a href="https://gitter.im/ethereum/ewasm" title="Gitter"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-comments fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Gitter</span>
              </a>
            </li><li><a href="https://twitter.com/ethereumWasm" title="Twitter"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-twitter fa-stack-1x fa-inverse"></i>
                </span>
                <span class="sr-only">Twitter</span>
              </a>
            </li></ul>
      <p class="copyright text-muted">
        Ewasm Team
        &nbsp;&bull;&nbsp;
        2020

        
        &nbsp;&bull;&nbsp;
        <a href="https://ewasm.ethereum.org">ewasm.ethereum.org</a>
        

        &nbsp;&bull;&nbsp;
        <a href="/archive/">Blog Archive</a>

        
        
      </p>
        <!-- Please don't remove this, keep my open source work credited :) -->
        <p class="theme-by text-muted">
          Theme by
          <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
        </p>
      </div>
    </div>
  </div>
</footer>

  
    






  
    
    
      <script>
      	if (typeof jQuery == 'undefined') {
      	  document.write('<script src="/ewasm-portal/js/jquery-1.11.2.min.js"></scr' + 'ipt>');
      	}
      </script>
    
  
    
    
	<script src="/ewasm-portal/js/bootstrap.min.js"></script>
    
  
    
    
	<script src="/ewasm-portal/js/main.js"></script>
    
  



  
  </body>
</html>
